<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ê´€ë¦¬ì ê¸€ì“°ê¸° - ë¯¸ë˜ì—°ëŒ€ë‹¹</title>
    <style>
        .write-container { max-width: 800px; margin: 50px auto; padding: 30px; border: 1px solid #ddd; border-radius: 10px; }
        input, select, textarea { width: 100%; padding: 12px; margin-bottom: 20px; border: 1px solid #ccc; border-radius: 5px; }
        textarea { height: 400px; resize: vertical; }
        .btn-submit { background: #1d458b; color: white; border: none; padding: 15px 30px; font-weight: bold; cursor: pointer; width: 100%; }
    </style>
</head>
<body>
    <div class="write-container">
        <h2>ğŸ“° ìƒˆ ì†Œì‹ ë“±ë¡</h2>
        <select id="category">
            <option>ë…¼í‰Â·ë¸Œë¦¬í•‘</option>
            <option>ëª¨ë‘ë°œì–¸</option>
            <option>ë³´ë„ìë£Œ</option>
            <option>ê³µì§€ì‚¬í•­</option>
        </select>
        <input type="text" id="title" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">
        <textarea id="content" placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš” (ì—”í„°í‚¤ë¡œ ì¤„ë°”ê¿ˆ ê°€ëŠ¥)"></textarea>
        <button class="btn-submit" onclick="submitNews()">ê²Œì‹œí•˜ê¸°</button>
    </div>

    <script>
        async function submitNews() {
            const title = document.getElementById('title').value;
            const category = document.getElementById('category').value;
            const content = document.getElementById('content').value;

            if(!title || !content) { alert("ëª¨ë“  í•­ëª©ì„ ì±„ì›Œì£¼ì„¸ìš”!"); return; }

            const res = await fetch('/api/news', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ title, category, content })
            });

            if(res.ok) {
                alert("ì„±ê³µì ìœ¼ë¡œ ê²Œì‹œë˜ì—ˆìŠµë‹ˆë‹¤!");
                location.href = "/news.html"; // ëª©ë¡ìœ¼ë¡œ ì´ë™
            }
        }
    </script>
</body>
</html>
